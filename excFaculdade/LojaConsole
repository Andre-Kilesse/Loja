import java.util.ArrayList;
import java.util.Scanner;

public class LojaConsole {
    public static void main(String[] args) {
        ArrayList<Produto> produtos = new ArrayList<>();
        produtos.add(new Produto("Camiseta", 20.0));
        produtos.add(new Produto("Calça Jeans", 50.0));
        produtos.add(new Produto("Tênis", 80.0));

        CarrinhoDeCompras carrinho = new CarrinhoDeCompras();

        Scanner scanner = new Scanner(System.in);

        while (true) {
            System.out.println("======= Bem-vindo à Loja =======");
            System.out.println("1. Ver produtos");
            System.out.println("2. Adicionar produto ao carrinho");
            System.out.println("3. Remover produto do carrinho");
            System.out.println("4. Ver carrinho");
            System.out.println("5. Finalizar compra");
            System.out.println("6. Sair");
            System.out.print("Escolha uma opção: ");

            int opcao = scanner.nextInt();

            switch (opcao) {
                case 1:
                    System.out.println("======= Produtos =======");
                    for (int i = 0; i < produtos.size(); i++) {
                        System.out.println((i + 1) + ". " + produtos.get(i).getNome() + " - R$" + produtos.get(i).getPreco());
                    }
                    break;
                case 2:
                    System.out.println("Digite o número do produto que deseja adicionar ao carrinho:");
                    int escolhaProduto = scanner.nextInt();
                    if (escolhaProduto >= 1 && escolhaProduto <= produtos.size()) {
                        carrinho.adicionarItem(produtos.get(escolhaProduto - 1));
                        System.out.println("Produto adicionado ao carrinho.");
                    } else {
                        System.out.println("Escolha inválida.");
                    }
                    break;
                case 3:
                    System.out.println("======= Remover Produto =======");
                    System.out.println("Digite o número do produto que deseja remover do carrinho:");
                    int indiceRemover = scanner.nextInt();
                    carrinho.removerItem(indiceRemover - 1);
                    break;
                case 4:
                    System.out.println("======= Carrinho =======");
                    if (carrinho.getItens().isEmpty()) {
                        System.out.println("Seu carrinho está vazio.");
                    } else {
                        for (int i = 0; i < carrinho.getItens().size(); i++) {
                            Produto produto = carrinho.getItens().get(i);
                            System.out.println((i + 1) + ". " + produto.getNome() + " - R$" + produto.getPreco());
                        }
                        System.out.println("Total: R$" + carrinho.calcularTotal());
                    }
                    break;
                case 5:
                    System.out.println("======= Finalizar Compra =======");
                    if (carrinho.getItens().isEmpty()) {
                        System.out.println("Seu carrinho está vazio.");
                    } else {
                        System.out.println("Escolha o método de pagamento:");
                        System.out.println("1. Boleto");
                        System.out.println("2. PIX");
                        System.out.println("3. Cartão de Crédito");
                        int metodoPagamento = scanner.nextInt();
                        switch (metodoPagamento) {
                            case 1:
                                MetodoDePagamento.pagarComBoleto(carrinho.calcularTotal());
                                break;
                            case 2:
                                MetodoDePagamento.pagarComPix(carrinho.calcularTotal());
                                break;
                            case 3:
                                MetodoDePagamento.pagarComCartaoCredito(carrinho.calcularTotal());
                                break;
                            default:
                                System.out.println("Opção inválida.");
                                continue;
                        }
                        carrinho.getItens().clear();
                        System.out.println("Compra finalizada. Obrigado por comprar conosco!");
                    }
                    break;
                case 6:
                    System.out.println("Saindo...");
                    return;
                default:
                    System.out.println("Opção inválida.");
            }
        }
    }
}

